(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{1366:(e,s,t)=>{Promise.resolve().then(t.bind(t,2357))},8606:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(5155),l=t(8173),r=t.n(l);let i=function(){return(0,a.jsxs)("div",{className:"pt-12 space-y-12",children:[(0,a.jsx)(r(),{href:"/menu",className:"font-semibold tracking-widest capitalize border-b-2 border-black pb-1 duration-150 transition-all hover:border-none",children:"Back to menu"}),(0,a.jsx)("p",{className:"text-base",children:"Oops! Your Cart is Looking a Little Empty \uD83D\uDE05.Let’s Start Your Dinner With Us"})]})}},2357:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var a=t(5155),l=t(3391),r=t(8606),i=t(5565),n=t(4095),c=t(5356),d=t(469);let o=function(e){var s,t;let{order:r}=e,o=(0,l.wA)();async function u(e){e.preventDefault(),await (0,n.s)(r.id),o((0,c._J)(r.id))}let m=new Date(r.estimatedDelivery).getMinutes()-new Date().getMinutes();return(0,a.jsxs)("div",{className:"border-2 border-[#FF9900]",children:[(0,a.jsx)(d.A,{}),(0,a.jsxs)("div",{className:"py-3 px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2",children:[(0,a.jsxs)("span",{className:"text-base font-semibold",children:["Order ",r.id," Status"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"".concat("Delivered"===r.status?"bg-green-500 ":"bg-red-600"," py-1 px-2 text-slate-100 capitalize rounded-full"),children:r.status}),!r.actualDelivery&&(0,a.jsx)("button",{className:"bg-red-600 py-1 px-2 text-slate-100 capitalize rounded-full ml-2",onClick:u,children:"cancel"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 bg-[#FF9900] text-white p-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:null!==r.actualDelivery?"Your order has been successfully delivered.":"Only ".concat(m," minutes left \uD83D\uDE03")}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:null!==r.actualDelivery?"Thank you for ordering with us. \uD83D\uDE80❤️":"Estimated delivery: ".concat((t=r.estimatedDelivery,Intl.DateTimeFormat("en-us",{year:"2-digit",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(t))))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2",children:[(0,a.jsxs)("span",{className:"text-xl flex items-center gap-4",children:["Total:",(0,a.jsxs)("span",{className:"text-2xl",children:["$",r.orderPrice]})]}),(0,a.jsxs)("span",{className:"text-sm font-semibold capitalize",children:["location: ",r.address]})]}),(0,a.jsx)("ul",{className:"flex flex-col divide-y divide-slate-300 space-y-4",children:null==r?void 0:null===(s=r.cart)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("li",{className:"flex items-center space-x-4 py-2",children:[(0,a.jsx)(i.default,{src:e.imageUrl,alt:e.name,width:"50",height:"50",className:"object-cover object-center rounded-full"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xl",children:[e.quantity,"x"]}),(0,a.jsx)("span",{className:"font-semibold",children:e.name})]}),(0,a.jsx)("p",{className:"capitalize italic text-sm",children:e.ingredients})]})]},e.id))})]})]})};var u=t(2115),m=t(5186);let x=function(){let{user:e}=(0,l.d4)(e=>e.user),s=(0,l.wA)(),{orders:t}=(0,l.d4)(e=>e.order);return((0,u.useEffect)(function(){e&&s((0,c.cU)(e.orders))},[s,e,t]),t.length)?(0,a.jsxs)("div",{className:"px-12 space-y-2",children:[(0,a.jsxs)("p",{className:"text-center border-y border-[#FF9900] py-1 place-self-center",children:["Your Orders ",null==e?void 0:e.firstName]}),(0,a.jsx)(u.Suspense,{fallback:(0,a.jsx)(m.A,{}),children:(0,a.jsx)("ul",{className:"grid grid-cols-1 gap-x-12 gap-y-8 overflow-y-scroll h-[63vh] space-y-2 py-4",children:t.map(e=>(0,a.jsx)(o,{order:e},e.id))})},e)]}):(0,a.jsx)(r.A,{})}},5186:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);let l=function(){return(0,a.jsxs)("div",{className:"load",children:[(0,a.jsxs)("div",{className:"hamburger",children:[(0,a.jsx)("div",{className:"top-bun"}),(0,a.jsx)("div",{className:"pickle"}),(0,a.jsx)("div",{className:"pickle"}),(0,a.jsx)("div",{className:"tomato",children:(0,a.jsx)("div",{})}),(0,a.jsx)("div",{className:"tomato",children:(0,a.jsx)("div",{})}),(0,a.jsx)("div",{className:"cheese"}),(0,a.jsx)("div",{className:"cheese"}),(0,a.jsx)("div",{className:"beef"}),(0,a.jsx)("div",{className:"bottom-bun"})]}),(0,a.jsx)("h1",{children:"Loading..."})]})}},469:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(3391),l=t(4095),r=t(3240),i=t(2115);let n=function(){let e=(0,a.wA)();return(0,i.useEffect)(function(){(async function(){let s=await (0,l.wB)();(null==s?void 0:s.id)&&e((0,r.wz)(s))})()},[e]),null}},4095:(e,s,t)=>{"use strict";t.d(s,{$5:()=>i,CI:()=>r,Jv:()=>l,_u:()=>c,s:()=>d,wB:()=>n});let a=t(2651).A.create({baseURL:"http://localhost:8080/api/v1/",withCredentials:!0});async function l(e){try{return(await a.post("auth/login",e)).data}catch(e){console.log(e)}}async function r(){try{return await a.get("auth/logout")}catch(e){console.log(e)}}async function i(e){try{return(await a.post("auth/signup",e)).data}catch(e){console.log(e)}}async function n(){try{return(await a.get("auth/current")).data}catch(e){console.log(e)}}async function c(e){try{return(await a.post("/orders",e)).data}catch(e){console.log(e)}}async function d(e){try{let s=await a.delete("/orders/".concat(e));return console.log(s),s.data}catch(e){console.log(e)}}},5356:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>c,Oc:()=>r,_J:()=>i,cU:()=>n});let{createSlice:a}=t(4281),l=a({name:"order",initialState:{orders:[]},reducers:{addOrder(e,s){e.orders.push(s.payload),console.log("Add")},setOrders(e,s){e.orders=s.payload},DeleteOrder(e,s){e.orders=e.orders.filter(e=>e.id!==s.payload)}}}),{addOrder:r,DeleteOrder:i,setOrders:n}=l.actions,c=l.reducer},3240:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>c,iD:()=>r,ri:()=>i,wz:()=>n});let{createSlice:a}=t(4281),l=a({name:"User",initialState:{user:{},Auth:!1},reducers:{login(e,s){e.user=s.payload,e.Auth=!0},logout(e,s){e.user={},e.Auth=!1},getUser(e,s){e.user=s.payload,e.Auth=!0}}}),{login:r,logout:i,getUser:n}=l.actions,c=l.reducer},5565:(e,s,t)=>{"use strict";t.d(s,{default:()=>l.a});var a=t(4146),l=t.n(a)},4146:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return c},getImageProps:function(){return n}});let a=t(306),l=t(666),r=t(7970),i=a._(t(5514));function n(e){let{props:s}=(0,l.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let c=r.Image}},e=>{var s=s=>e(e.s=s);e.O(0,[173,391,651,281,970,441,517,358],()=>s(1366)),_N_E=e.O()}]);