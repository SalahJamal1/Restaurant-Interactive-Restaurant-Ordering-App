(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3247:(e,t,a)=>{Promise.resolve().then(a.bind(a,925))},5186:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155);let r=function(){return(0,s.jsxs)("div",{className:"load",children:[(0,s.jsxs)("div",{className:"hamburger",children:[(0,s.jsx)("div",{className:"top-bun"}),(0,s.jsx)("div",{className:"pickle"}),(0,s.jsx)("div",{className:"pickle"}),(0,s.jsx)("div",{className:"tomato",children:(0,s.jsx)("div",{})}),(0,s.jsx)("div",{className:"tomato",children:(0,s.jsx)("div",{})}),(0,s.jsx)("div",{className:"cheese"}),(0,s.jsx)("div",{className:"cheese"}),(0,s.jsx)("div",{className:"beef"}),(0,s.jsx)("div",{className:"bottom-bun"})]}),(0,s.jsx)("h1",{children:"Loading..."})]})}},469:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(3391),r=a(4095),c=a(3240),l=a(2115);let n=function(){let e=(0,s.wA)();return(0,l.useEffect)(function(){(async function(){let t=await (0,r.wB)();(null==t?void 0:t.id)&&e((0,c.wz)(t))})()},[e]),null}},4095:(e,t,a)=>{"use strict";a.d(t,{$5:()=>l,CI:()=>c,Jv:()=>r,_u:()=>i,s:()=>d,wB:()=>n});let s=a(2651).A.create({baseURL:"http://localhost:8080/api/v1/",withCredentials:!0});async function r(e){try{return(await s.post("auth/login",e)).data}catch(e){console.log(e)}}async function c(){try{return await s.get("auth/logout")}catch(e){console.log(e)}}async function l(e){try{return(await s.post("auth/signup",e)).data}catch(e){console.log(e)}}async function n(){try{return(await s.get("auth/current")).data}catch(e){console.log(e)}}async function i(e){try{return(await s.post("/orders",e)).data}catch(e){console.log(e)}}async function d(e){try{let t=await s.delete("/orders/".concat(e));return console.log(t),t.data}catch(e){console.log(e)}}},450:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,RU:()=>n,TP:()=>c,Tn:()=>l,iG:()=>i,nr:()=>d});let{createSlice:s}=a(4281),r=s({name:"cart",initialState:{cart:[]},reducers:{orderNow(e,t){e.cart.push(t.payload)},Incorder(e,t){let a=e.cart.find(e=>e.name===t.payload);a.quantity++,a.totalPrice=a.quantity*a.unitPrice},Decorder(e,t){let a=e.cart.find(e=>e.name===t.payload);a.quantity--,a.totalPrice=a.quantity*a.unitPrice,a.quantity<=0&&r.caseReducers.DeleteItem(e,t)},DeleteItem(e,t){e.cart=e.cart.filter(e=>e.name!==t.payload)},ClearCart(e){e.cart=[]}}}),{orderNow:c,Incorder:l,Decorder:n,ClearCart:i,DeleteItem:d}=r.actions,o=r.reducer},5356:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,Oc:()=>c,_J:()=>l,cU:()=>n});let{createSlice:s}=a(4281),r=s({name:"order",initialState:{orders:[]},reducers:{addOrder(e,t){e.orders.push(t.payload),console.log("Add")},setOrders(e,t){e.orders=t.payload},DeleteOrder(e,t){e.orders=e.orders.filter(e=>e.id!==t.payload)}}}),{addOrder:c,DeleteOrder:l,setOrders:n}=r.actions,i=r.reducer},925:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(5155),r=a(7556),c=a.n(r);a(4692);var l=a(5565),n=a(8173),i=a.n(n);let d={src:"/_next/static/media/logo.393bb248.png",height:79,width:107,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAD1BMVEX2kxv0mhf0nBjymRT6mRzm4ldOAAAABXRSTlMCKDsbD8yaDnoAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAmSURBVHicFcnBCQAwEIRAddN/zeFeMgivFKhgQryj7MpNnQ1YJnwGhwA7Da75dQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},o=function(){return(0,s.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,s.jsx)(i(),{href:"/",children:(0,s.jsx)(l.default,{src:d,className:"w-20 h-16",alt:"logo"})}),(0,s.jsx)("h2",{className:"text-[#95713A]  font-bold text-xl",children:"RestoNest"})]})};var u=a(6046),x=a(3391);let h=[{link:"/",name:"Home"},{link:"/menu",name:"menu"},{link:"/about",name:"about"}],m=function(){let{Auth:e}=(0,x.d4)(e=>e.user),t=(0,u.usePathname)();return(0,s.jsxs)("ul",{className:"flex space-x-12 capitalize text-xl text-[#FFF7EA]",children:[h.map(e=>(0,s.jsx)("li",{className:"".concat(t===e.link?" text-[#FF9900] border-b-2 border-[#FF9900]":""),children:(0,s.jsx)(i(),{href:e.link,children:e.name})},e.name)),(0,s.jsx)("li",{className:"".concat("/account"===t?" text-[#FF9900] border-b-2 border-[#FF9900]":""),children:(0,s.jsx)(i(),{href:e?"/account":"/login",className:"".concat(e?"":"bg-[#FF9900] px-4 py-2 rounded-md"),children:e?"Account":"Login"})})]})},A=function(){return(0,s.jsx)("header",{className:"bg-black border-b border-slate-200 shadow-lg h-[18vh]",children:(0,s.jsxs)("nav",{className:"max-w-6xl mx-auto py-3 flex items-center justify-between",children:[(0,s.jsx)(o,{}),(0,s.jsx)(m,{})]})})};var g=a(2115),j=a(5186),f=a(5334),p=a(3240),y=a(450),b=a(5356);let N=(0,f.U1)({reducer:{user:p.Ay,cart:y.Ay,order:b.Ay}});var v=a(469);let w=function(){let{cart:e}=(0,x.d4)(e=>e.cart);if(!e.length)return;let t=e.reduce((e,t)=>e+t.quantity,0),a=e.reduce((e,t)=>e+t.totalPrice,0);return(0,s.jsxs)("div",{className:"bg-black px-12 py-4 flex items-center  justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsxs)("p",{className:"text-xl flex gap-1 capitalize",children:[(0,s.jsx)("span",{children:t}),t>1?"items":"item"]}),(0,s.jsxs)("p",{className:"text-xl flex items-center gap-1 capitalize",children:["$",(0,s.jsx)("span",{className:"text-2xl",children:Math.round(a)})]})]}),(0,s.jsx)(i(),{className:"text-xl flex gap-1 capitalize",href:"/cart",children:"Open Cart â†’"})]})},F=function(e){let{children:t}=e;return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:"".concat(c().className," relative text-slate-200 bg-white grid grid-rows-[auto_1fr_auto] h-screen"),children:(0,s.jsxs)(x.Kq,{store:N,children:[(0,s.jsx)(g.Suspense,{fallback:(0,s.jsx)(j.A,{}),children:(0,s.jsx)(v.A,{})}),(0,s.jsx)(A,{}),(0,s.jsx)("div",{className:"overflow-y-scroll text-black bg-[#FFF7EA]",children:(0,s.jsx)("main",{className:"max-w-6xl mx-auto",children:t})}),(0,s.jsx)(w,{})]})})})}},3240:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,iD:()=>c,ri:()=>l,wz:()=>n});let{createSlice:s}=a(4281),r=s({name:"User",initialState:{user:{},Auth:!1},reducers:{login(e,t){e.user=t.payload,e.Auth=!0},logout(e,t){e.user={},e.Auth=!1},getUser(e,t){e.user=t.payload,e.Auth=!0}}}),{login:c,logout:l,getUser:n}=r.actions,i=r.reducer},4692:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[405,173,391,651,281,970,528,441,517,358],()=>t(3247)),_N_E=e.O()}]);